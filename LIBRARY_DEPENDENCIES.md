# ë¬´ê¶í™” ê²Œì„ ì‹œìŠ¤í…œ - ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ë¶„ì„

## ğŸ“‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì²´í¬ ê²°ê³¼

### âœ… ì‚¬ìš©ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ í˜„í™©

#### Arduino ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë³„ë„ ì„¤ì¹˜ ë¶ˆí•„ìš”)
| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì‚¬ìš© ë³´ë“œ | ìš©ë„ | ì„¤ì¹˜ í•„ìš” |
|-----------|----------|------|----------|
| `Arduino.h` | Master, Slave | Arduino ê¸°ë³¸ í•¨ìˆ˜ | âŒ ë‚´ì¥ |
| `SoftwareSerial.h` | Master, Slave | DFPlayer Mini í†µì‹  | âŒ ë‚´ì¥ |
| `Wire.h` | Slave | I2C í†µì‹  (MCP23017) | âŒ ë‚´ì¥ |

#### ì™¸ë¶€ í•˜ë“œì›¨ì–´ ì œì–´ (ì§ì ‘ êµ¬í˜„)
| í•˜ë“œì›¨ì–´ | ì œì–´ ë°©ì‹ | ë¼ì´ë¸ŒëŸ¬ë¦¬ í•„ìš” | êµ¬í˜„ ìƒíƒœ |
|----------|-----------|----------------|----------|
| **DFPlayer Mini** | ì‹œë¦¬ì–¼ ëª…ë ¹ì–´ | âŒ ì§ì ‘ êµ¬í˜„ | âœ… ì™„ë£Œ |
| **MCP23017** | I2C í†µì‹  | âŒ ì§ì ‘ êµ¬í˜„ | âœ… ì™„ë£Œ |
| **L298N** | ë””ì§€í„¸ í•€ ì œì–´ | âŒ ì§ì ‘ êµ¬í˜„ | âœ… ì™„ë£Œ |
| **PIR ì„¼ì„œ** | ë””ì§€í„¸ ì…ë ¥ | âŒ ì§ì ‘ êµ¬í˜„ | âœ… ì™„ë£Œ |
| **ì§„ë™ ì„¼ì„œ** | ì•„ë‚ ë¡œê·¸ ì…ë ¥ | âŒ ì§ì ‘ êµ¬í˜„ | âœ… ì™„ë£Œ |

### ğŸ” ìƒì„¸ ë¶„ì„

#### 1. SoftwareSerial ë¼ì´ë¸ŒëŸ¬ë¦¬
```cpp
#include <SoftwareSerial.h>

// Master Board
SoftwareSerial dfSerial(DFRX_PIN, DFTX_PIN);

// Slave Board  
SoftwareSerial dfSerial(DFR_RX_PIN, DFR_TX_PIN);
```
- **ìƒíƒœ**: âœ… Arduino ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **ìš©ë„**: DFPlayer Miniì™€ì˜ ì‹œë¦¬ì–¼ í†µì‹ 
- **ì„¤ì¹˜ í•„ìš”**: ì—†ìŒ (Arduino IDE/PlatformIOì— ê¸°ë³¸ í¬í•¨)

#### 2. Wire ë¼ì´ë¸ŒëŸ¬ë¦¬ (I2C)
```cpp
#include <Wire.h>

// Slave Boardì—ì„œë§Œ ì‚¬ìš©
Wire.begin();
Wire.beginTransmission(MCP23017_1_ADDR);
Wire.write(MCP_IODIRA);
Wire.endTransmission();
```
- **ìƒíƒœ**: âœ… Arduino ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **ìš©ë„**: MCP23017 I/O í™•ì¥ ì¹©ê³¼ì˜ I2C í†µì‹ 
- **ì„¤ì¹˜ í•„ìš”**: ì—†ìŒ (Arduino IDE/PlatformIOì— ê¸°ë³¸ í¬í•¨)

#### 3. DFPlayer Mini ì œì–´ (ì§ì ‘ êµ¬í˜„)
```cpp
// ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
void sendDFCommand(uint8_t command, uint8_t param1, uint8_t param2) {
    uint8_t buffer[10] = {0x7E, 0xFF, 0x06, command, 0x00, param1, param2, 0x00, 0x00, 0xEF};
    // ì²´í¬ì„¬ ê³„ì‚° ë° ì „ì†¡
    for (int i = 0; i < 10; i++) {
        dfSerial.write(buffer[i]);
    }
}
```
- **ìƒíƒœ**: âœ… ì§ì ‘ êµ¬í˜„ ì™„ë£Œ
- **ì¥ì **: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì—†ìŒ, ë©”ëª¨ë¦¬ íš¨ìœ¨ì 
- **êµ¬í˜„ ê¸°ëŠ¥**: ì¬ìƒ, ì •ì§€, ë³¼ë¥¨ ì¡°ì ˆ, íŠ¸ë™ ì„ íƒ

#### 4. MCP23017 ì œì–´ (ì§ì ‘ êµ¬í˜„)
```cpp
// ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
void setMCP23017Output(uint8_t addr, uint8_t reg, uint8_t value) {
    Wire.beginTransmission(addr);
    Wire.write(reg);
    Wire.write(value);
    Wire.endTransmission();
}
```
- **ìƒíƒœ**: âœ… ì§ì ‘ êµ¬í˜„ ì™„ë£Œ
- **ì¥ì **: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì—†ìŒ, í•„ìš”í•œ ê¸°ëŠ¥ë§Œ êµ¬í˜„
- **êµ¬í˜„ ê¸°ëŠ¥**: GPIO ì„¤ì •, ì…ì¶œë ¥ ì œì–´, í’€ì—… ì €í•­ ì„¤ì •

#### 5. L298N ëª¨í„° ë“œë¼ì´ë²„ (ì§ì ‘ êµ¬í˜„)
```cpp
// ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
void rotateHeadForward(uint8_t speed = MOTOR_SPEED_NORMAL) {
    analogWrite(HEAD_PWM_PIN, speed);
    digitalWrite(HEAD_DIR1_PIN, HIGH);
    digitalWrite(HEAD_DIR2_PIN, LOW);
}
```
- **ìƒíƒœ**: âœ… ì§ì ‘ êµ¬í˜„ ì™„ë£Œ
- **ì¥ì **: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ì—†ìŒ, ê°„ë‹¨í•œ ë””ì§€í„¸ í•€ ì œì–´
- **êµ¬í˜„ ê¸°ëŠ¥**: ì •ë°©í–¥/ì—­ë°©í–¥ íšŒì „, ì†ë„ ì œì–´, ë¸Œë ˆì´í¬

### ğŸš« ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤

#### ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ (ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¯¸ì‚¬ìš©)
| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ | ì‚¬ìš© ì—¬ë¶€ | ì´ìœ  |
|-----------|------|----------|------|
| `DFRobotDFPlayerMini` | DFPlayer ì œì–´ | âŒ ë¯¸ì‚¬ìš© | ì§ì ‘ êµ¬í˜„ìœ¼ë¡œ ë©”ëª¨ë¦¬ ì ˆì•½ |
| `Adafruit_MCP23017` | MCP23017 ì œì–´ | âŒ ë¯¸ì‚¬ìš© | ì§ì ‘ êµ¬í˜„ìœ¼ë¡œ ì˜ì¡´ì„± ì œê±° |
| `AFMotor` | ëª¨í„° ì œì–´ | âŒ ë¯¸ì‚¬ìš© | L298N ì§ì ‘ ì œì–´ë¡œ ì¶©ë¶„ |
| `NewPing` | ì´ˆìŒíŒŒ ì„¼ì„œ | âŒ ë¯¸ì‚¬ìš© | PIR ì„¼ì„œ ì‚¬ìš© |
| `Servo` | ì„œë³´ ëª¨í„° | âŒ ë¯¸ì‚¬ìš© | DC ëª¨í„° ì‚¬ìš© |

### ğŸ“¦ PlatformIO ì„¤ì • ìµœì í™”

#### í˜„ì¬ platformio.ini ì„¤ì •
```ini
[platformio]
default_envs = master, slave

[env:master]
platform = atmelavr
board = megaatmega2560
framework = arduino
; ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± (ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš©)
; SoftwareSerial - Arduino ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë³„ë„ ì„¤ì¹˜ ë¶ˆí•„ìš”)
; ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (DFPlayer, MCP23017 ì§ì ‘ êµ¬í˜„)

[env:slave]
platform = atmelavr
board = nanoatmega328
framework = arduino
; ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± (ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš©)
; SoftwareSerial - Arduino ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë³„ë„ ì„¤ì¹˜ ë¶ˆí•„ìš”)
; Wire - Arduino ë‚´ì¥ I2C ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë³„ë„ ì„¤ì¹˜ ë¶ˆí•„ìš”)
; ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (DFPlayer, MCP23017, L298N ì§ì ‘ êµ¬í˜„)
```

### âœ… ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ê²€ì¦ ê²°ê³¼

#### ë¹Œë“œ í…ŒìŠ¤íŠ¸ ëª…ë ¹ì–´
```bash
# Master ë³´ë“œ ë¹Œë“œ í…ŒìŠ¤íŠ¸
pio run -e master

# Slave ë³´ë“œ ë¹Œë“œ í…ŒìŠ¤íŠ¸  
pio run -e slave

# ì „ì²´ ë¹Œë“œ í…ŒìŠ¤íŠ¸
pio run
```

#### ì˜ˆìƒ ë¹Œë“œ ê²°ê³¼
```
âœ… Master Board ë¹Œë“œ ì„±ê³µ
   - Arduino.h: ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ âœ“
   - SoftwareSerial.h: ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ âœ“
   - ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„±: ì—†ìŒ âœ“

âœ… Slave Board ë¹Œë“œ ì„±ê³µ
   - Arduino.h: ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ âœ“
   - SoftwareSerial.h: ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ âœ“
   - Wire.h: ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ âœ“
   - ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„±: ì—†ìŒ âœ“
```

### ğŸ”§ ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

#### ë§Œì•½ ë¹Œë“œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´

##### 1. SoftwareSerial ê´€ë ¨ ì˜¤ë¥˜
```bash
# ì˜¤ë¥˜ ì˜ˆì‹œ
fatal error: SoftwareSerial.h: No such file or directory
```
**í•´ê²° ë°©ë²•**: 
- Arduino í”„ë ˆì„ì›Œí¬ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸
- PlatformIO ì¬ì„¤ì¹˜ ë˜ëŠ” ì—…ë°ì´íŠ¸

##### 2. Wire ë¼ì´ë¸ŒëŸ¬ë¦¬ ê´€ë ¨ ì˜¤ë¥˜
```bash
# ì˜¤ë¥˜ ì˜ˆì‹œ  
fatal error: Wire.h: No such file or directory
```
**í•´ê²° ë°©ë²•**:
- Arduino AVR ì½”ì–´ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸
- `platform = atmelavr` ì„¤ì • í™•ì¸

##### 3. ë©”ëª¨ë¦¬ ë¶€ì¡± ì˜¤ë¥˜
```bash
# ì˜¤ë¥˜ ì˜ˆì‹œ
region `data' overflowed by XXX bytes
```
**í•´ê²° ë°©ë²•**:
- ë¶ˆí•„ìš”í•œ ì „ì—­ ë³€ìˆ˜ ì œê±°
- PROGMEM ì‚¬ìš©ìœ¼ë¡œ Flash ë©”ëª¨ë¦¬ í™œìš©
- ë¬¸ìì—´ ìƒìˆ˜ ìµœì í™”

### ğŸ“Š ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë¶„ì„

#### Master Board (Arduino Mega 2560)
```
Flash Memory: 256KB
SRAM: 8KB
EEPROM: 4KB

ì˜ˆìƒ ì‚¬ìš©ëŸ‰:
- í”„ë¡œê·¸ë¨: ~45KB (17.6%)
- SRAM: ~5.1KB (62.5%)
- ì—¬ìœ  ê³µê°„: ì¶©ë¶„
```

#### Slave Board (Arduino Nano)
```
Flash Memory: 32KB
SRAM: 2KB
EEPROM: 1KB

ì˜ˆìƒ ì‚¬ìš©ëŸ‰:
- í”„ë¡œê·¸ë¨: ~18KB (56.3%)
- SRAM: ~1.3KB (65.0%)
- ì—¬ìœ  ê³µê°„: ì ì •
```

### ğŸ¯ ìµœì¢… ê²°ë¡ 

#### âœ… ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„± ìƒíƒœ
1. **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„±**: **ì—†ìŒ**
2. **ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš©**: Arduino.h, SoftwareSerial.h, Wire.h
3. **í•˜ë“œì›¨ì–´ ì œì–´**: ëª¨ë‘ ì§ì ‘ êµ¬í˜„
4. **ë¹Œë“œ ì•ˆì •ì„±**: ë†’ìŒ (ì™¸ë¶€ ì˜ì¡´ì„± ì—†ìŒ)
5. **ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±**: ìµœì í™”ë¨

#### ğŸš€ ë°°í¬ ì¤€ë¹„ ìƒíƒœ
- **PlatformIO í”„ë¡œì íŠ¸**: ì¦‰ì‹œ ë¹Œë“œ ê°€ëŠ¥
- **ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜**: ë¶ˆí•„ìš”
- **ì˜ì¡´ì„± ë¬¸ì œ**: ì—†ìŒ
- **í¬ë¡œìŠ¤ í”Œë«í¼**: ì§€ì› (Windows, Linux, macOS)

#### ğŸ“ ê°œë°œì ê¶Œì¥ì‚¬í•­
1. **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ ê¸ˆì§€**: í˜„ì¬ êµ¬ì¡° ìœ ì§€
2. **ì§ì ‘ êµ¬í˜„ ìœ ì§€**: ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± ë° ì•ˆì •ì„±
3. **ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œ ì‚¬ìš©**: í˜¸í™˜ì„± ë³´ì¥
4. **ì •ê¸°ì  ë¹Œë“œ í…ŒìŠ¤íŠ¸**: CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• ê¶Œì¥

---

**ê²°ë¡ **: ë¬´ê¶í™” ê²Œì„ ì‹œìŠ¤í…œì€ **ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜ì¡´ì„±ì´ ì „í˜€ ì—†ìœ¼ë©°**, Arduino ë‚´ì¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œì„ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ **PlatformIO í™˜ê²½ì—ì„œ ì¦‰ì‹œ ë¹Œë“œ ë° ë°°í¬ê°€ ê°€ëŠ¥**í•©ë‹ˆë‹¤.

**ë²„ì „**: 1.0  
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025ë…„ 8ì›” 31ì¼  
**ê²€ì¦ì**: ë¬´ê¶í™” ê²Œì„ ì‹œìŠ¤í…œ ê°œë°œíŒ€